Quizzer: [14:44:15] [34m[INFO][0m [main.dart] QuizzerLogger initialized with level: FINE. Logging to: runtime_cache/quizzer_log.txt
Quizzer: [14:44:15] [33m[WARNING][0m [main.dart] _QuizzerAppState: BUILD CALLED. _criticalError is: null
Quizzer: [14:44:28] [34m[INFO][0m [login_page.dart] Login attempt for: aacra0820@gmail.com
Quizzer: [14:44:28] [34m[INFO][0m [session_manager.dart] Logging in user with email: aacra0820@gmail.com
Quizzer: [14:44:28] [34m[INFO][0m [user_auth.dart] User authentication requested for aacra0820@gmail.com
Quizzer: [14:44:28] [34m[INFO][0m [user_auth.dart] Attempting Supabase authentication for aacra0820@gmail.com
Quizzer: [14:44:28] [34m[INFO][0m [user_auth.dart] Attempting Supabase authentication
Quizzer: [14:44:29] [36m[DEBUG][0m Saving session
Quizzer: [14:44:29] [34m[INFO][0m [user_auth.dart] SUCCESS: Supabase authentication successful for aacra0820@gmail.com
Quizzer: [14:44:29] [36m[DEBUG][0m [session_helper.dart] Access Token: [REDACTED]
Quizzer: [14:44:29] [36m[DEBUG][0m [session_helper.dart] Decoded JWT Token Payload (Redacted): {aal: aal1, amr: [{method: password, timestamp: 1747255469}], app_metadata: {provider: email, providers: [email]}, aud: authenticated, email: [REDACTED], exp: 1747259069, iat: 1747255469, is_anonymous: false, iss: https://yruvxuvzztnahuuiqxit.supabase.co/auth/v1, phone: , role: authenticated, session_id: [REDACTED], sub: [REDACTED], user_metadata: [REDACTED], user_role: admin}
Quizzer: [14:44:29] [36m[DEBUG][0m [session_helper.dart] User role determined from JWT: admin
Quizzer: [14:44:29] [34m[INFO][0m [user_auth.dart] Handling successful Supabase login for aacra0820@gmail.com
Quizzer: [14:44:29] [34m[INFO][0m [user_auth.dart] Stored last login (2025-05-14T20:44:29.42490024Z) and token for aacra0820@gmail.com
Quizzer: [14:44:29] [34m[INFO][0m [user_auth.dart] Ensuring local profile exists for aacra0820@gmail.com
Quizzer: [14:44:29] [34m[INFO][0m [database_native.dart] Using sqflite FFI factory (Desktop)
Quizzer: [14:44:29] [34m[INFO][0m [database_native.dart] Desktop SQLite directory ensured: /home/araycove/Documents/coding-projects/apps/study_tools/quizzer_v04/quizzer/runtime_cache/sqlite
Quizzer: [14:44:29] [34m[INFO][0m [database_native.dart] Target Database path: /home/araycove/Documents/coding-projects/apps/study_tools/quizzer_v04/quizzer/runtime_cache/sqlite/quizzer.db
Quizzer: [14:44:29] [34m[INFO][0m [database_native.dart] Existing database found at /home/araycove/Documents/coding-projects/apps/study_tools/quizzer_v04/quizzer/runtime_cache/sqlite/quizzer.db. Using it.
Quizzer: [14:44:29] [34m[INFO][0m [database_native.dart] SUCCESS: Database initialized successfully at: /home/araycove/Documents/coding-projects/apps/study_tools/quizzer_v04/quizzer/runtime_cache/sqlite/quizzer.db
Quizzer: [14:44:29] [34m[INFO][0m [user_auth.dart] Is user in list -> true
Quizzer: [14:44:29] [34m[INFO][0m [user_auth.dart] Is user in list -> true
Quizzer: [14:44:30] [34m[INFO][0m [session_isolates.dart] Recorded email to log in. . .: aacra0820@gmail.com
Quizzer: [14:44:30] [34m[INFO][0m [session_isolates.dart] Database access granted
Quizzer: [14:44:30] [34m[INFO][0m [session_isolates.dart] SUCCESS: Session initialized with userId: 77647c42-c888-47e3-8296-6fc452815810
Quizzer: [14:44:30] [34m[INFO][0m [session_manager.dart] Stored initial profile last_modified_timestamp: 2025-05-14T19:49:58.505063Z
Quizzer: [14:44:30] [34m[INFO][0m [inbound_sync_worker.dart] Starting inbound sync aggregator...
Quizzer: [14:44:30] [34m[INFO][0m [inbound_sync_worker.dart] Using effective last login timestamp: 2025-05-14T19:49:58.505063Z
Quizzer: [14:44:30] [34m[INFO][0m [inbound_sync_worker.dart] Syncing inbound question_answer_pairs for user 77647c42-c888-47e3-8296-6fc452815810 since 2025-05-14T19:49:58.505063Z...
Quizzer: [14:44:30] [34m[INFO][0m [inbound_sync_worker.dart] No new question_answer_pairs to sync.
Quizzer: [14:44:30] [34m[INFO][0m [inbound_sync_worker.dart] Using effective initial timestamp: 2025-05-14T19:49:58.505063Z
Quizzer: [14:44:30] [34m[INFO][0m [inbound_sync_worker.dart] Syncing inbound user_question_answer_pairs for user 77647c42-c888-47e3-8296-6fc452815810 since 2025-05-14T19:49:58.505063Z...
Quizzer: [14:44:30] [34m[INFO][0m [inbound_sync_worker.dart] No new user_question_answer_pairs to sync.
Quizzer: [14:44:30] [34m[INFO][0m [inbound_sync_worker.dart] Syncing inbound user profile for user 77647c42-c888-47e3-8296-6fc452815810 since 2025-05-14T19:49:58.505063Z...
Quizzer: [14:44:30] [34m[INFO][0m [inbound_sync_worker.dart] No new user profile to sync.
Quizzer: [14:44:30] [34m[INFO][0m [inbound_sync_worker.dart] SUCCESS: Inbound sync completed successfully.
Quizzer: [14:44:33] [34m[INFO][0m [question_selection_worker.dart] PresentationSelectionWorker started.
Quizzer: [14:44:33] [34m[INFO][0m [question_selection_worker.dart] PSW: Starting initial loop...
Quizzer: [14:44:33] [34m[INFO][0m [question_queue_cache.dart] QuestionQueueCache: Added record 2025-05-08T00:16:44.373975Z_77647c42-c888-47e3-8296-6fc452815810 to empty queue.
Quizzer: [14:44:33] [34m[INFO][0m [outbound_sync_worker.dart] OutboundSyncWorker initialized.
Quizzer: [14:44:33] [34m[INFO][0m [outbound_sync_worker.dart] Entering OutboundSyncWorker start()...
Quizzer: [14:44:33] [34m[INFO][0m [outbound_sync_worker.dart] OutboundSyncWorker: Subscribing to onOutboundSyncNeeded stream.
Quizzer: [14:44:33] [34m[INFO][0m [outbound_sync_worker.dart] OutboundSyncWorker: Starting sync cycle.
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_worker.dart] Network check successful.
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_worker.dart] Entering OutboundSyncWorker _getDbAccess()...
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_worker.dart] OutboundSyncWorker: Database access granted.
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_functions.dart] Starting sync for QuestionAnswerPairs...
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_functions.dart] No unsynced QuestionAnswerPairs found.
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_worker.dart] Entering OutboundSyncWorker _getDbAccess()...
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_worker.dart] OutboundSyncWorker: Database access granted.
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_functions.dart] Starting sync for LoginAttempts...
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_functions.dart] Found 1 unsynced LoginAttempts.
Quizzer: [14:44:38] [36m[DEBUG][0m [outbound_sync_functions.dart] Preparing to push LoginAttempt 2025-05-14T20:44:30.291583Z77647c42-c888-47e3-8296-6fc452815810 to login_attempts
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_functions.dart] SUCCESS: Supabase insert successful for LoginAttempt 2025-05-14T20:44:30.291583Z77647c42-c888-47e3-8296-6fc452815810.
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_functions.dart] Finished sync attempt for LoginAttempts.
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_worker.dart] Entering OutboundSyncWorker _getDbAccess()...
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_worker.dart] OutboundSyncWorker: Database access granted.
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_functions.dart] Starting sync for QuestionAnswerAttempts...
Quizzer: [14:44:38] [34m[INFO][0m [question_answer_attempts_table.dart] Fetching unsynced question answer attempts...
Quizzer: [14:44:38] [34m[INFO][0m [question_answer_attempts_table.dart] Verifying question_answer_attempts table...
Quizzer: [14:44:38] [34m[INFO][0m [question_answer_attempts_table.dart] question_answer_attempts table already exists. Checking columns...
Quizzer: [14:44:38] [34m[INFO][0m [question_answer_attempts_table.dart] Column check complete.
Quizzer: [14:44:38] [34m[INFO][0m [question_answer_attempts_table.dart] SUCCESS: Fetched 0 unsynced question answer attempts.
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_functions.dart] No unsynced QuestionAnswerAttempts found.
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_worker.dart] Entering OutboundSyncWorker _getDbAccess()...
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_worker.dart] OutboundSyncWorker: Database access granted.
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_functions.dart] Starting sync for UserProfiles...
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_functions.dart] Found 1 unsynced UserProfiles for user 77647c42-c888-47e3-8296-6fc452815810.
Quizzer: [14:44:38] [36m[DEBUG][0m [outbound_sync_functions.dart] Preparing to update UserProfile 77647c42-c888-47e3-8296-6fc452815810 in user_profile
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_functions.dart] Attempting Supabase update for ID 77647c42-c888-47e3-8296-6fc452815810 in table user_profile...
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_functions.dart] SUCCESS: Supabase update presumed successful for ID 77647c42-c888-47e3-8296-6fc452815810 in user_profile.
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_functions.dart] Update successful for UserProfile 77647c42-c888-47e3-8296-6fc452815810. Updating local flags...
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_functions.dart] Finished sync attempt for UserProfiles.
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_worker.dart] Entering OutboundSyncWorker _getDbAccess()...
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_worker.dart] OutboundSyncWorker: Database access granted.
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_functions.dart] Starting sync for UserQuestionAnswerPairs...
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_functions.dart] No unsynced UserQuestionAnswerPairs found for user Instance of 'SessionManager'.userId!.
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_worker.dart] Entering OutboundSyncWorker _getDbAccess()...
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_worker.dart] OutboundSyncWorker: Database access granted.
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_functions.dart] Starting sync for ErrorLogs...
Quizzer: [14:44:38] [34m[INFO][0m [error_logs_table.dart] Verifying error_logs table...
Quizzer: [14:44:38] [34m[INFO][0m [error_logs_table.dart] error_logs table already exists. Checking columns...
Quizzer: [14:44:38] [34m[INFO][0m [error_logs_table.dart] Column check complete for error_logs.
Quizzer: [14:44:38] [34m[INFO][0m [error_logs_table.dart] Fetching unsynced error logs (older than 1 hour) from error_logs...
Quizzer: [14:44:38] [34m[INFO][0m [error_logs_table.dart] SUCCESS: Fetched 4 total unsynced records. 3 are older than 1 hour.
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_functions.dart] Found 3 unsynced ErrorLogs to process.
Quizzer: [14:44:38] [36m[DEBUG][0m [outbound_sync_functions.dart] Preparing to push ErrorLog 0f0a64c8-2927-4153-ae76-d8590ed5009a to error_logs
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_functions.dart] Attempting Supabase insert for record unknown_id to table error_logs...
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_functions.dart] SUCCESS: Supabase insert successful for record unknown_id to error_logs.
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_functions.dart] SUCCESS: Push successful for ErrorLog 0f0a64c8-2927-4153-ae76-d8590ed5009a. Deleting local record...
Quizzer: [14:44:38] [34m[INFO][0m [error_logs_table.dart] Verifying error_logs table...
Quizzer: [14:44:38] [34m[INFO][0m [error_logs_table.dart] error_logs table already exists. Checking columns...
Quizzer: [14:44:38] [34m[INFO][0m [error_logs_table.dart] Column check complete for error_logs.
Quizzer: [14:44:38] [34m[INFO][0m [error_logs_table.dart] Deleting local error log with id: 0f0a64c8-2927-4153-ae76-d8590ed5009a from error_logs
Quizzer: [14:44:38] [34m[INFO][0m [error_logs_table.dart] SUCCESS: Deleted 1 local error log(s) with id: 0f0a64c8-2927-4153-ae76-d8590ed5009a.
Quizzer: [14:44:38] [36m[DEBUG][0m [outbound_sync_functions.dart] Preparing to push ErrorLog 3304db56-2c5a-40e0-9b13-278c67207b01 to error_logs
Quizzer: [14:44:38] [34m[INFO][0m [outbound_sync_functions.dart] Attempting Supabase insert for record unknown_id to table error_logs...
Quizzer: [14:44:39] [34m[INFO][0m [outbound_sync_functions.dart] SUCCESS: Supabase insert successful for record unknown_id to error_logs.
Quizzer: [14:44:39] [34m[INFO][0m [outbound_sync_functions.dart] SUCCESS: Push successful for ErrorLog 3304db56-2c5a-40e0-9b13-278c67207b01. Deleting local record...
Quizzer: [14:44:39] [34m[INFO][0m [error_logs_table.dart] Verifying error_logs table...
Quizzer: [14:44:39] [34m[INFO][0m [error_logs_table.dart] error_logs table already exists. Checking columns...
Quizzer: [14:44:39] [34m[INFO][0m [error_logs_table.dart] Column check complete for error_logs.
Quizzer: [14:44:39] [34m[INFO][0m [error_logs_table.dart] Deleting local error log with id: 3304db56-2c5a-40e0-9b13-278c67207b01 from error_logs
Quizzer: [14:44:39] [34m[INFO][0m [error_logs_table.dart] SUCCESS: Deleted 1 local error log(s) with id: 3304db56-2c5a-40e0-9b13-278c67207b01.
Quizzer: [14:44:39] [36m[DEBUG][0m [outbound_sync_functions.dart] Preparing to push ErrorLog 11c8551f-97da-465e-bdbc-bf438193f5c5 to error_logs
Quizzer: [14:44:39] [34m[INFO][0m [outbound_sync_functions.dart] Attempting Supabase insert for record unknown_id to table error_logs...
Quizzer: [14:44:39] [34m[INFO][0m [outbound_sync_functions.dart] SUCCESS: Supabase insert successful for record unknown_id to error_logs.
Quizzer: [14:44:39] [34m[INFO][0m [outbound_sync_functions.dart] SUCCESS: Push successful for ErrorLog 11c8551f-97da-465e-bdbc-bf438193f5c5. Deleting local record...
Quizzer: [14:44:39] [34m[INFO][0m [error_logs_table.dart] Verifying error_logs table...
Quizzer: [14:44:39] [34m[INFO][0m [error_logs_table.dart] error_logs table already exists. Checking columns...
Quizzer: [14:44:39] [34m[INFO][0m [error_logs_table.dart] Column check complete for error_logs.
Quizzer: [14:44:39] [34m[INFO][0m [error_logs_table.dart] Deleting local error log with id: 11c8551f-97da-465e-bdbc-bf438193f5c5 from error_logs
Quizzer: [14:44:39] [34m[INFO][0m [error_logs_table.dart] SUCCESS: Deleted 1 local error log(s) with id: 11c8551f-97da-465e-bdbc-bf438193f5c5.
Quizzer: [14:44:39] [34m[INFO][0m [outbound_sync_functions.dart] Finished sync attempt for ErrorLogs.
Quizzer: [14:44:39] [34m[INFO][0m [outbound_sync_worker.dart] Entering OutboundSyncWorker _runLoop()...
Quizzer: [14:44:39] [34m[INFO][0m [outbound_sync_worker.dart] OutboundSyncWorker: Waiting for sync signal...
Quizzer: [14:44:39] [34m[INFO][0m [outbound_sync_worker.dart] OutboundSyncWorker started and initial sync performed.
Quizzer: [14:44:39] [36m[DEBUG][0m [session_manager.dart] SessionManager.requestNextQuestion: Fetched options type: List<dynamic>, value: [{type: text, content: Belgium}, {type: text, content: Britain}, {type: text, content: Prussia}, {type: text, content: Russia}, {type: text, content: Spain}]
Quizzer: [14:44:39] [34m[INFO][0m [login_page.dart] Login successful for: aacra0820@gmail.com. Navigating home.
Quizzer: [14:44:39] [36m[DEBUG][0m [home_page.dart] HomePage building question type: multiple_choice with key: [<'2025-05-08T00:16:44.373975Z_77647c42-c888-47e3-8296-6fc452815810'>] (using session data)
